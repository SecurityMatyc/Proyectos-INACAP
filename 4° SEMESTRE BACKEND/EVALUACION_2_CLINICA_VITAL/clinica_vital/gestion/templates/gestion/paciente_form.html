{% extends 'gestion/base.html' %}
{% block title %}{% if form.instance.pk %}Editar Paciente{% else %}Nuevo Paciente{% endif %}{% endblock %}
{% block content %}
    <h2>{% if form.instance.pk %}Editar{% else %}Nuevo{% endif %} Paciente</h2>
    {% if form.errors %}
  <div class="alert alert-danger">
    {{ form.non_field_errors }}
    {% for field in form %}
      {% for error in field.errors %}
        <p>{{ field.label }}: {{ error }}</p>
      {% endfor %}
    {% endfor %}
  </div>
{% endif %}

    <form method="post" class="mb-4">
        {% csrf_token %}
        <div class="mb-3">{{ form.rut.label_tag }} {{ form.rut }}</div>
        <div class="mb-3">{{ form.nombre.label_tag }} {{ form.nombre }}</div>
        <div class="mb-3">{{ form.apellido.label_tag }} {{ form.apellido }}</div>
        <div class="mb-3">{{ form.fecha_nacimiento.label_tag }} {{ form.fecha_nacimiento }}</div>
        <div class="mb-3">{{ form.tipo_sangre.label_tag }} {{ form.tipo_sangre }}</div>
        <div class="mb-3">{{ form.correo.label_tag }} {{ form.correo }}</div>
        <div class="mb-3">{{ form.telefono.label_tag }} {{ form.telefono }}</div>
        <div class="mb-3">{{ form.direccion.label_tag }} {{ form.direccion }}</div>
        <div class="mb-3">{{ form.activo.label_tag }} {{ form.activo }}</div>
        <button type="submit" class="btn btn-success">Guardar</button>
        <a href="{% url 'paciente_list' %}" class="btn btn-secondary">Cancelar</a>
    </form>
{% endblock %}
